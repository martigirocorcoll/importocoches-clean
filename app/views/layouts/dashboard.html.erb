<!DOCTYPE html>
<html>
  <head>
    <% content_for :for_head do %>
      <meta name='robots' content='noindex'>
    <% end %>

    <% if content_for? :for_head %>
      <%= yield :for_head %>
    <% else %>
      <title>ðŸš— Dashboard - importocotxe.ad</title>
      <meta name='description' content="Panel de control - importocotxe.ad">
    <% end %>

    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= favicon_link_tag asset_path='favicon-3.ico'%>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbo-track': 'reload' %>
    <%= javascript_importmap_tags %>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

<style>
  .dashboard-container {
    display: flex;
    min-height: calc(100vh - 200px);
    margin: 20px 0;
  }

  .dashboard-sidebar {
    width: 250px;
    background: #2c3e50 !important;
    padding: 0 !important;
    box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    border-radius: 10px;
    margin-right: 20px;
  }

  .dashboard-content {
    flex: 1;
    background: white !important;
    padding: 30px !important;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }

  .sidebar-header {
    background: #1a252f !important;
    padding: 20px !important;
    text-align: center;
    border-radius: 10px 10px 0 0;
  }

  .sidebar-header h4 {
    color: white !important;
    margin: 0;
    font-weight: 600;
  }

  .sidebar-menu {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  .sidebar-menu li:last-child a {
    border-radius: 0 0 10px 10px;
  }

  .sidebar-menu a {
    display: flex !important;
    align-items: center !important;
    padding: 15px 20px !important;
    color: #ecf0f1 !important;
    text-decoration: none !important;
    transition: all 0.3s ease;
  }

  .sidebar-menu a:hover {
    background: #34495e !important;
    color: white !important;
    text-decoration: none !important;
  }

  .sidebar-menu a.active {
    background: #3498db !important;
    border-left: 4px solid #2980b9 !important;
    color: white !important;
  }

  .sidebar-menu i {
    width: 20px;
    margin-right: 12px;
    text-align: center;
  }

  @media (max-width: 768px) {
    .dashboard-container {
      flex-direction: column;
    }

    .dashboard-sidebar {
      width: 100%;
      margin-right: 0;
      margin-bottom: 20px;
    }
  }
</style>
  </head>

  <body>
    <%= render 'shared/navbar1' %>
    <%= render 'shared/flashes' %>

<div class="container-fluid">
  <div class="dashboard-container">
    <nav class="dashboard-sidebar">
      <div class="sidebar-header">
        <h4><i class="fa-solid fa-gauge-high"></i> Panel de Control</h4>
      </div>

      <ul class="sidebar-menu">
        <li>
          <%= link_to dashboard_path,
              class: "#{current_page?(dashboard_path) ? 'active' : ''}" do %>
            <i class="fa-solid fa-calculator"></i>
            <span>Presupuestador</span>
          <% end %>
        </li>

        <li>
          <%= link_to dashboard_transport_path,
              class: "#{current_page?(dashboard_transport_path) ? 'active' : ''}" do %>
            <i class="fa-solid fa-truck"></i>
            <span>AutorizaciÃ³n Transporte</span>
          <% end %>
        </li>

        <li>
          <%= link_to dashboard_attribution_path,
              class: "#{current_page?(dashboard_attribution_path) ? 'active' : ''}" do %>
            <i class="fa-solid fa-search"></i>
            <span>BÃºsqueda Referencias</span>
          <% end %>
        </li>

        <li>
          <%= link_to dashboard_users_path,
              class: "#{current_page?(dashboard_users_path) ? 'active' : ''}" do %>
            <i class="fa-solid fa-users"></i>
            <span>GestiÃ³n Usuarios</span>
          <% end %>
        </li>

        <li>
          <%= link_to dashboard_contacts_path,
              class: "#{current_page?(dashboard_contacts_path) ? 'active' : ''}" do %>
            <i class="fa-solid fa-address-book"></i>
            <span>Contactos</span>
          <% end %>
        </li>

        <li>
          <%= link_to dashboard_api_activity_path,
              class: "#{current_page?(dashboard_api_activity_path) ? 'active' : ''}" do %>
            <i class="fa-solid fa-chart-line"></i>
            <span>Actividad API</span>
          <% end %>
        </li>

        <li>
          <%= link_to dashboard_llamadas_path,
              class: "#{current_page?(dashboard_llamadas_path) ? 'active' : ''}" do %>
            <i class="fa-solid fa-phone"></i>
            <span>Llamadas API</span>
          <% end %>
        </li>

        <li>
          <%= link_to new_contract_path,
              class: "#{current_page?(new_contract_path) ? 'active' : ''}" do %>
            <i class="fa-solid fa-file-contract"></i>
            <span>Generar Contrato</span>
          <% end %>
        </li>
      </ul>
    </nav>

    <main class="dashboard-content">
      <%= yield %>
    </main>
  </div>
</div>

    <%= render 'shared/footer' %>
  </body>
</html>
